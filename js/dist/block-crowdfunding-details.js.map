{"version":3,"sources":["../src/block-crowdfunding-details.js"],"names":["wp","data","registerBlockType","blocks","RichText","blockEditor","element","Component","Fragment","RawHTML","DescriptionList","props","children","DescriptionDetails","title","icon","category","parent","attributes","currencySymbol","type","default","list","term","amount","value","edit","setAttributes","className","definitions","map","item","index","definition","content","hasOwnProperty","save","forEach","detail"],"mappings":"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","sourcesContent":["const { data } = wp;\nconst { registerBlockType } = wp.blocks;\nconst { RichText } = wp.blockEditor;\nconst { Component, Fragment, RawHTML } = wp.element;\n\n( function () {\n\t'use strict';\n\n\tclass DescriptionList extends Component {\n\t\trender() {\n\t\t\treturn <dl className=\"ppd-dl-list\">{ this.props.children }</dl>\n\t\t}\n\t}\n\n\tclass DescriptionDetails extends Component {\n\t\trender() {\n\t\t\treturn <dd className=\"ppd-dl-list__value\">{ this.props.children }</dd>\n\t\t}\n\t}\n\n\t/**\n\t * Register details block type.\n\t *\n\t * @param string name     Block name.\n\t * @param object settings Block settings.\n\t *\n\t * @return WPBlock        Block if registered successfully, otherwise \"undefined\".\n\t */\n\tregisterBlockType( 'pronamic-pay/crowdfunding-details', {\n\t\ttitle: 'Details',\n\t\ticon: 'info',\n\t\tcategory: 'pronamic-pay',\n\t\tparent: [ 'pronamic-pay/crowdfunding-ring', 'core/column' ],\n\n\t\t// Attributes.\n\t\tattributes: {\n\t\t\tcurrencySymbol: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: 'â‚¬'\n\t\t\t},\n\t\t\tlist: {\n\t\t\t\ttype: 'array',\n\t\t\t\tdefault: [\n\t\t\t\t\t{\n\t\t\t\t\t\tterm: 'Raised',\n\t\t\t\t\t\tamount: '0,00'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tterm: 'Target',\n\t\t\t\t\t\tamount: '0,00'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tterm: 'Number of contributions',\n\t\t\t\t\t\tvalue: '0'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\n\t\t// Edit.\n\t\tedit: ( { attributes, setAttributes, className } ) => {\n\t\t\tlet { list, currencySymbol } = attributes;\n\n\t\t\tlet definitions = list.map( ( item, index ) => {\n\t\t\t\tlet definition = item.amount ? currencySymbol + ' ' + item.amount : item.value;\n\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment key={ index }>\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"dt\"\n\t\t\t\t\t\t\tclassName=\"ppd-dl-list__label\"\n\t\t\t\t\t\t\tvalue={ item.term }\n\t\t\t\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<DescriptionDetails>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\titem.hasOwnProperty( 'amount' ) ?\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\t\t\ttagName=\"span\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ currencySymbol }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ ( content ) => setAttributes( { content } ) }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t{ ' ' + item.amount }\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\titem.value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</DescriptionDetails>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)\n\t\t\t} );\n\n\t\t\treturn (\n\t\t\t\t<DescriptionList className={ className }>\n\t\t\t\t\t{ definitions }\n\t\t\t\t</DescriptionList>\n\t\t\t);\n\t\t},\n\n\t\t// Save.\n\t\tsave: ( { attributes } ) => {\n\t\t\t// @todo How to save?!\n\n\t\t\treturn (\n\t\t\t\t<dl className=\"ppd-dl-list\">\n\t\t\t\t\t{\n\t\t\t\t\t\tattributes.list.forEach( ( detail, index ) => {\n\t\t\t\t\t\t\t// ....\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t</dl>\n\t\t\t);\n\t\t}\n\t} );\n} )();\n"],"file":"block-crowdfunding-details.js"}