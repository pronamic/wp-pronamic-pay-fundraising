!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.primitives}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var c=typeof n;if("string"===c||"number"===c)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===c)for(var l in n)r.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e){e.exports=JSON.parse('{"name":"pronamic-pay/crowdfunding-progress","category":"pronamic-pay","parent":["pronamic-pay/crowdfunding-donut","pronamic-pay/crowdfunding-bar","pronamic-pay/crowdfunding-compact"],"attributes":{"color":{"type":"string","default":"#f9461c"},"value":{"type":"integer","default":0}}}')},function(e){e.exports=JSON.parse('{"name":"pronamic-pay/crowdfunding-details","category":"pronamic-pay","parent":["pronamic-pay/crowdfunding-donut","pronamic-pay/crowdfunding-bar","pronamic-pay/crowdfunding-compact"],"attributes":{"currencySymbol":{"type":"string","default":"â‚¬"},"list":{"type":"array","default":[{"term":"Raised","amount":"0,00","color":null},{"term":"Target","amount":"0,00","color":null},{"term":"Contributions","value":"0","color":null}]}}}')},function(e){e.exports=JSON.parse('{"name":"pronamic-pay/crowdfunding-donut","category":"pronamic-pay","attributes":{"target":{"type":"string","value":"0","default":"0"},"raised":{"type":"string","default":"0"},"contributions":{"type":"integer","default":0},"color":{"type":"string","default":"#f9461c"}}}')},function(e){e.exports=JSON.parse('{"name":"pronamic-pay/crowdfunding-bar","category":"pronamic-pay","attributes":{"target":{"type":"string","value":"0","default":"0"},"raised":{"type":"string","default":"0"},"contributions":{"type":"integer","default":0},"color":{"type":"string","default":"#f9461c"}}}')},function(e){e.exports=JSON.parse('{"name":"pronamic-pay/crowdfunding-compact","category":"pronamic-pay","attributes":{"target":{"type":"string","value":"0","default":"0"},"raised":{"type":"string","default":"0"},"contributions":{"type":"integer","default":0},"color":{"type":"string","default":"#f9461c"}}}')},,function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"metadata",(function(){return j})),r.d(n,"name",(function(){return N})),r.d(n,"settings",(function(){return P}));var a={};r.r(a),r.d(a,"metadata",(function(){return T})),r.d(a,"name",(function(){return M})),r.d(a,"settings",(function(){return F}));var c={};r.r(c),r.d(c,"metadata",(function(){return J})),r.d(c,"name",(function(){return Q})),r.d(c,"settings",(function(){return U}));var o={};r.r(o),r.d(o,"metadata",(function(){return Y})),r.d(o,"name",(function(){return te})),r.d(o,"settings",(function(){return ne}));var l={};r.r(l),r.d(l,"metadata",(function(){return ve})),r.d(l,"name",(function(){return we})),r.d(l,"settings",(function(){return Ee}));var i=r(5),s=r(3),u=r(1),p=r(0),m=r(4),f=Object(p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(p.createElement)(m.Path,{d:"M4 17h7V6H4v11zm9-10v1.5h7V7h-7zm0 5.5h7V11h-7v1.5zm0 4h7V15h-7v1.5z"})),d=r(6),b=r.n(d),y=r(2),g=r(7),v=[{name:"orange",color:"#f9461c"},{name:"purple",color:"#6355ff"},{name:"green",color:"#2ce3be"}];function h(e,t,r){t.innerBlocks&&t.innerBlocks.forEach((function(t){e===t.name&&(r.hasOwnProperty("list")&&r.list.map((function(e,n){r.list[n]=Object.assign(t.attributes.list[n],e)})),Object(g.dispatch)("core/block-editor").updateBlockAttributes(t.clientId,r)),h(e,t,r)}))}function _(e,t,r,n){e&&h("pronamic-pay/crowdfunding-progress",e,{color:t,value:O(r,n)})}function w(e,t,r,n,a){if(e){var c={amount:parseFloat(r)};"pronamic-pay/crowdfunding-bar"===e.name&&(c.color={label:t,value:t}),"pronamic-pay/crowdfunding-compact"===e.name&&(c.color={value:t}),h("pronamic-pay/crowdfunding-details",e,{color:t,list:[c,{amount:parseFloat(n)},{value:parseInt(a)}]})}}function O(e,t){return e=parseFloat(e),0==(t=parseFloat(t))&&(0==e||e>t)&&(t=100),Math.floor(e/t*100)}var E=[["core/columns",{},[["core/column",{width:20},[["pronamic-pay/crowdfunding-progress",{}]]],["core/column",{width:80},[["pronamic-pay/crowdfunding-details",{}]]]]]],R=function(e){var t=e.attributes,r=e.setAttributes,n=(e.className,e.clientId),a=t.target,c=t.raised,o=t.contributions,l=t.color,i=Object(p.useCallback)((function(e){r({target:e.replace(/,/g,".")})}),[r]),m=Object(p.useCallback)((function(e){r({raised:e.replace(/,/g,".")})}),[r]),f=Object(p.useCallback)((function(e){r({contributions:parseInt(e)})}),[r]),d=Object(p.useCallback)((function(e){r({color:e})}),[r]),h=Object(g.select)("core/block-editor").getBlocksByClientId(n)[0];o=o||0,_(h,l,c=c||0,a=a||0),w(h,l,c,a,o);var O=React.createElement(y.InspectorControls,null,React.createElement(s.PanelBody,null,React.createElement(s.TextControl,{label:Object(u.__)("Target"),value:a,onChange:i}),React.createElement(s.TextControl,{label:Object(u.__)("Raised"),value:c,onChange:m}),React.createElement(s.TextControl,{label:Object(u.__)("Contributions"),value:o,onChange:f}),React.createElement(y.ColorPalette,{colors:v,value:l,onChange:d}))),R=b()({"ppcf-block":!0,"ppcf-block-circle":!0});return React.createElement("div",{className:R},O,React.createElement(y.InnerBlocks,{template:E,templateLock:!0}))},j=r(10);var k={from:[{type:"block",blocks:["pronamic-pay/crowdfunding-bar","pronamic-pay/crowdfunding-compact"],transform:function(e){return Object(i.createBlock)("pronamic-pay/crowdfunding-donut",e)}}]},C=j.attributes,x=j.category,N=j.name,P={title:Object(u.__)("Crowdfunding Donut"),description:Object(u.__)("Add a block that displays crowdfunding information with progress donut."),category:x,icon:f,example:{},attributes:C,edit:R,save:function(e){return e.attributes,React.createElement("div",{className:"ppcf-block ppcf-block-circle"},React.createElement(y.InnerBlocks.Content,null))},transforms:k},B=Object(p.createElement)(m.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(p.createElement)(m.Path,{d:"M4 9v1.5h16V9H4zm12 5.5h4V13h-4v1.5zm-6 0h4V13h-4v1.5zm-6 0h4V13H4v1.5z"})),S=[["pronamic-pay/crowdfunding-progress",{className:"is-style-bar"}],["pronamic-pay/crowdfunding-details",{}]],z=function(e){var t=e.attributes,r=e.setAttributes,n=e.className,a=e.clientId,c=t.target,o=t.raised,l=t.contributions,i=t.color,m=Object(p.useCallback)((function(e){r({target:e.replace(/,/g,".")})}),[r]),f=Object(p.useCallback)((function(e){r({raised:e.replace(/,/g,".")})}),[r]),d=Object(p.useCallback)((function(e){r({contributions:parseInt(e)})}),[r]),b=Object(p.useCallback)((function(e){r({color:e})}),[r]),h=Object(g.select)("core/block-editor").getBlocksByClientId(a)[0];l=l||0,_(h,i,o=o||0,c=c||0),w(h,i,o,c,l);var O=React.createElement(y.InspectorControls,null,React.createElement(s.PanelBody,null,React.createElement(s.TextControl,{label:Object(u.__)("Target"),value:c,onChange:m}),React.createElement(s.TextControl,{label:Object(u.__)("Raised"),value:o,onChange:f}),React.createElement(s.TextControl,{label:Object(u.__)("Contributions"),value:l,onChange:d}),React.createElement(y.ColorPalette,{colors:v,value:i,onChange:b}))),E=n+" ppcf-block ppcf-block-bar";return React.createElement("div",{className:E},O,React.createElement(y.InnerBlocks,{template:S,templateLock:!0}))},T=r(11);var I={from:[{type:"block",blocks:["pronamic-pay/crowdfunding-donut","pronamic-pay/crowdfunding-compact"],transform:function(e){return Object(i.createBlock)("pronamic-pay/crowdfunding-bar",e)}}]},V=T.attributes,A=T.category,M=T.name,F={title:Object(u.__)("Crowdfunding Bar"),description:Object(u.__)("Add a block that displays crowdfunding information with progress bar."),category:A,icon:B,example:{},attributes:V,edit:z,save:function(e){return e.attributes,React.createElement("div",{className:"ppcf-block ppcf-block-bar"},React.createElement(y.InnerBlocks.Content,null))},transforms:I},H=Object(p.createElement)(m.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(p.createElement)(m.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12zM7 11h2V9H7v2zm0 4h2v-2H7v2zm3-4h7V9h-7v2zm0 4h7v-2h-7v2z"})),D=[["pronamic-pay/crowdfunding-details",{list:[{term:Object(u.__)("Raised"),amount:"0,00"},{term:Object(u.__)("Target"),amount:"0,00"},{term:Object(u.__)("Contributions"),value:"0"}]}]],G=function(e){var t=e.attributes,r=e.setAttributes,n=e.className,a=e.clientId,c=t.target,o=t.raised,l=t.contributions,i=t.color,m=Object(p.useCallback)((function(e){r({target:e.replace(/,/g,".")})}),[r]),f=Object(p.useCallback)((function(e){r({raised:e.replace(/,/g,".")})}),[r]),d=Object(p.useCallback)((function(e){r({contributions:parseInt(e)})}),[r]),b=Object(p.useCallback)((function(e){r({color:e})}),[r]),h=Object(g.select)("core/block-editor").getBlocksByClientId(a)[0];l=l||0,_(h,i,o=o||0,c=c||0),w(h,i,o,c,l);var O=React.createElement(y.InspectorControls,null,React.createElement(s.PanelBody,null,React.createElement(s.TextControl,{label:Object(u.__)("Target"),value:c,onChange:m}),React.createElement(s.TextControl,{label:Object(u.__)("Raised"),value:o,onChange:f}),React.createElement(s.TextControl,{label:Object(u.__)("Contributions"),value:l,onChange:d}),React.createElement(y.ColorPalette,{colors:v,value:i,onChange:b}))),E=n+" ppcf-block ppcf-block-compact";return React.createElement("div",{className:E},O,React.createElement(y.InnerBlocks,{template:D,templateLock:!0}))},J=r(12);var L={from:[{type:"block",blocks:["pronamic-pay/crowdfunding-donut","pronamic-pay/crowdfunding-bar"],transform:function(e){return Object(i.createBlock)("pronamic-pay/crowdfunding-compact",e)}}]},q=J.attributes,K=J.category,Q=J.name,U={title:Object(u.__)("Crowdfunding Compact"),description:Object(u.__)("Add a block that displays crowdfunding information without funding target and progress."),category:K,icon:H,example:{},attributes:q,edit:G,save:function(e){return e.attributes,React.createElement("div",{className:"ppcf-block ppcf-block-compact"},React.createElement(y.InnerBlocks.Content,null))},transforms:L},W=Object(p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(p.createElement)(m.Path,{d:"M11 13h2v-2h-2v2zm-6 0h2v-2H5v2zm12-2v2h2v-2h-2z"})),X=function(e){var t=e.attributes,r=e.setAttributes,n=e.className,a=t.color,c=t.value;c||(c=0),function(e){r({value:e})}(c);var o=-1===n.indexOf("is-style-bar"),l=b()({"is-style-donut":o}),i={},s={};if(o){var u=c/100*360;i={borderColor:a,transform:"rotate( "+Math.min(u,360).toFixed(2)+"deg )"},c>50&&(s={borderColor:a});var p=b()({"ppcf-circle":!0,"ppcf-circle--50":c>50});return React.createElement("div",{className:l},React.createElement("div",{className:p},React.createElement("span",{className:"ppcf-circle__label"},c,"%"),React.createElement("div",{className:"ppcf-circle__slice"},React.createElement("div",{className:"ppcf-circle__slice__bar",style:i}),React.createElement("div",{className:"ppcf-circle__slice__fill",style:s}))))}return i={background:a,width:Math.min(c,100)+"%"},React.createElement("div",{className:l},React.createElement("div",{className:"ppcf-progress"},React.createElement("div",{className:"ppcf-progress__bar",style:i},React.createElement("span",{className:"ppcf-progress__bar__status"},c,"%"))))},Y=r(8);var Z=[{name:"donut",label:Object(u.__)("Donut"),isDefault:!0},{name:"bar",label:Object(u.__)("Bar")}],$=Y.attributes,ee=Y.category,te=Y.name,re=Y.parent,ne={title:Object(u.__)("Progress"),description:Object(u.__)("Add a block that displays crowdfunding progress."),category:ee,parent:re,icon:W,example:{},styles:Z,attributes:$,edit:X,save:function(e){var t=e.attributes,r=void 0===t.className?"":t.className,n=t.color,a=t.value,c=-1===r.indexOf("is-style-bar"),o=b()({"is-style-donut":c}),l={},i={};if(c){var s=a/100*360;l={borderColor:n,transform:"rotate( "+Math.min(s,360).toFixed(2)+"deg )"},a>50&&(i={borderColor:n});var u=b()({"ppcf-circle":!0,"ppcf-circle--50":a>50});return React.createElement("div",{className:o},React.createElement("div",{className:u},React.createElement("span",{className:"ppcf-circle__label"},a,"%"),React.createElement("div",{className:"ppcf-circle__slice"},React.createElement("div",{className:"ppcf-circle__slice__bar",style:l}),React.createElement("div",{className:"ppcf-circle__slice__fill",style:i}))))}return l={background:n,width:Math.min(a,100)+"%"},React.createElement("div",{className:o},React.createElement("div",{className:"ppcf-progress"},React.createElement("div",{className:"ppcf-progress__bar",style:l},React.createElement("span",{className:"ppcf-progress__bar__status"},a,"%"))))}},ae=Object(p.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(p.createElement)(m.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function ce(e){var t=2;return 0==100*(e=parseFloat(e))%100&&(t=0),e.toFixed(t).replace(/\./g,",")}function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function se(e,t,r){return t&&ie(e.prototype,t),r&&ie(e,r),e}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=de(e);if(t){var a=de(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return fe(this,r)}}function fe(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(e){ue(r,e);var t=me(r);function r(){return le(this,r),t.apply(this,arguments)}return se(r,[{key:"render",value:function(){return React.createElement("dl",{className:"ppcf-dl-list"},this.props.children)}}]),r}(p.Component),ye=function(e){ue(r,e);var t=me(r);function r(){return le(this,r),t.apply(this,arguments)}return se(r,[{key:"render",value:function(){return React.createElement("dd",{className:"ppcf-dl-list__value",style:this.props.style},this.props.children)}}]),r}(p.Component),ge=function(e){var t=e.attributes,r=e.setAttributes,n=e.className,a=(t.color,t.currencySymbol),c=t.list,o=function(e,t){item=c[e],item.hasOwnProperty("amount")?item.amount=t:item.value=t,c[e]=item,r({list:c})},l=c.map((function(e,t){var n={},l={};return e.color&&(e.color.hasOwnProperty("label")&&(n={color:e.color.label}),e.color.hasOwnProperty("value")&&(l={color:e.color.value})),React.createElement(p.Fragment,{key:t},React.createElement(y.RichText,{tagName:"dt",className:"ppcf-dl-list__label",value:e.term,onChange:function(e){return function(e,t){c[e].term=t,r({list:c})}(t,e)},style:n}),React.createElement(ye,{onChange:function(e){return o(t,e)},style:l},e.hasOwnProperty("amount")?React.createElement(React.Fragment,null,React.createElement(y.RichText,{tagName:"span",value:a,onChange:function(e){return r({currencySymbol:e})}})," "+ce(e.amount)):e.value))}));return React.createElement(be,{className:n},l)},ve=r(9);var he=ve.attributes,_e=ve.category,we=ve.name,Oe=ve.parent,Ee={title:Object(u.__)("Details"),description:Object(u.__)("Add a block that displays crowdfunding details."),category:_e,parent:Oe,icon:ae,example:{},attributes:he,edit:ge,save:function(e){var t=e.attributes,r=t.currencySymbol,n=t.list.map((function(e,t){var n={},a={};return e.color&&(e.color.hasOwnProperty("label")&&(n={color:e.color.label}),e.color.hasOwnProperty("value")&&(a={color:e.color.value})),React.createElement(p.Fragment,{key:t},React.createElement("dt",{className:"ppcf-dl-list__label",style:n},React.createElement(p.RawHTML,null,e.term)),React.createElement("dd",{className:"ppcf-dl-list__value",style:a},e.hasOwnProperty("amount")?React.createElement(React.Fragment,null,r+" "+ce(e.amount)):e.value))}));return React.createElement("dl",{className:"ppcf-dl-list"},n)}};[n,a,c,o,l].forEach((function(e){if(e){var t=e.name,r=e.settings;Object(i.registerBlockType)(t,r)}})),Object(i.updateCategory)("pronamic-pay",{icon:React.createElement(s.SVG,{width:"24",height:"24",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},React.createElement(s.Path,{d:"M256 0c141.385 0 256 114.615 256 256S397.385 512 256 512c-48.85 0-94.504-13.682-133.34-37.424L174.558 384h92.988c70.693 0 128-57.308 128-128 0-70.692-57.307-128-128-128h-46.682c-15.248 0-27.608 12.36-27.608 27.608 0 15.247 12.36 27.608 27.608 27.608h46.682c40.198 0 72.784 32.586 72.784 72.784 0 40.198-32.586 72.784-72.784 72.784H167.153c-12.869 0-23.681 8.805-26.741 20.72a28 28 0 00-.606 1.966l-30.622 114.273C43.161 419.443 0 342.762 0 256 0 114.615 114.615 0 256 0zm11.545 220.863h-65.757c-19.406 0-35.137 15.731-35.137 35.137s15.731 35.137 35.137 35.137h65.757c19.406 0 35.137-15.731 35.137-35.137s-15.731-35.137-35.137-35.137z",fill:"#A0A5AA"}))})}]);